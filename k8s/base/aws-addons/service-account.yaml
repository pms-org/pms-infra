# Service Account for External Secrets Operator
# Linked to IAM role via IRSA annotations

apiVersion: v1
kind: ServiceAccount
metadata:
  name: external-secrets-sa
  namespace: pms
  annotations:
    # This annotation links to IAM role created by Terraform
    # Format: arn:aws:iam::<ACCOUNT_ID>:role/<CLUSTER_NAME>-external-secrets
    eks.amazonaws.com/role-arn: arn:aws:iam::${AWS_ACCOUNT_ID}:role/${CLUSTER_NAME}-external-secrets
